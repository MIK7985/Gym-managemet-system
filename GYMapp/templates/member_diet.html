{% extends "blank_layot.html" %}

{% block content %}
<div class="container mt-5">
    <h3 class="text-center text-dark mb-4">My Diet Plans</h3>

    {% if diet_plans %}
        <div class="row">
            {% for plan in diet_plans %}
                <div class="col-md-6 mb-4">
                    <div class="card shadow-sm" style="border-radius: 10px; transition: transform 0.2s;">
                        <div class="card-body" 
                             style="padding: 20px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                            <h5 class="card-title text-primary" style="font-size: 1.25rem; font-weight: bold;">
                                {{ plan.title }}
                            </h5>
                            <p class="card-text text-muted" style="font-size: 0.85rem;">
                                <small>Assigned on {{ plan.sent_at|date:"M d, Y" }}</small>
                            </p>

                            <!-- Display diet content in time-food order -->
                            <ul style="list-style: none; padding: 0; font-size: 0.95rem;">
                                {% for entry in plan.content %}
                                    <li style="margin-bottom: 10px;">
                                        {% if entry.time %}
                                            <span style="font-weight: bold; color: #6c757d;">
                                                {{ entry.time }}:
                                            </span>
                                        {% endif %}
                                        <span style="color: #212529;">
                                            {{ entry.food }}
                                        </span>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center text-muted" style="font-size: 1rem;">You have not received any diet plans yet.</p>
    {% endif %}
</div>
{% endblock content %}
